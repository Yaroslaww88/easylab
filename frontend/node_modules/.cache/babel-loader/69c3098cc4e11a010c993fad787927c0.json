{"ast":null,"code":"var _jsxFileName = \"/home/yaroslav/Desktop/Programming/web/EasyLab/frontend/src/Components/RegisterComponent.js\";\nimport React, { useState } from 'react';\n\nfunction LogInComponent(props) {\n  /**\n   * Facebook recommends to use hooks instead of React.Component's state due to productivity issues\n   * Check here: https://ru.reactjs.org/docs/hooks-intro.html\n   */\n  const [login, setLogin] = useState('');\n  const [password, setPassword] = useState('');\n\n  async function registerFunction() {\n    console.log('Login: ', login);\n    console.log('Password: ', password);\n    let response = await fetch('/api/login/', {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        login: login,\n        password: password\n      })\n    });\n\n    if (!response.ok) {\n      console.log('Error: ', response);\n      return {\n        success: false,\n        error: `${response}`\n      };\n    }\n\n    try {\n      let data = await response.json();\n      console.log('Data: ', data);\n      localStorage.setItem('token', data.token);\n      return data;\n    } catch (ex) {\n      console.log('Error: ', ex);\n      return {\n        success: false,\n        error: `${ex}`\n      };\n    }\n  }\n\n  return React.createElement(React.Fragment, null, React.createElement(\"input\", {\n    placeholder: \"Login\",\n    onChange: event => setLogin(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    placeholder: \"Password\",\n    onChange: event => setPassword(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: registerFunction,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Register\"));\n}\n\nexport default LogInComponent;","map":{"version":3,"sources":["/home/yaroslav/Desktop/Programming/web/EasyLab/frontend/src/Components/RegisterComponent.js"],"names":["React","useState","LogInComponent","props","login","setLogin","password","setPassword","registerFunction","console","log","response","fetch","method","headers","body","JSON","stringify","ok","success","error","data","json","localStorage","setItem","token","ex","event","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;AAEA,SAASC,cAAT,CAAwBC,KAAxB,EAA+B;AAE3B;;;;AAIA,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACK,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,EAAD,CAAxC;;AAEA,iBAAeO,gBAAf,GAAkC;AAC9BC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBN,KAAvB;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BJ,QAA1B;AAEA,QAAIK,QAAQ,GAAG,MAAMC,KAAK,CAAC,aAAD,EAAgB;AACtCC,MAAAA,MAAM,EAAE,MAD8B;AAEtCC,MAAAA,OAAO,EAAE;AACL,kBAAU,kBADL;AAEL,wBAAgB;AAFX,OAF6B;AAMtCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBb,QAAAA,KAAK,EAAEA,KADU;AAEjBE,QAAAA,QAAQ,EAAEA;AAFO,OAAf;AANgC,KAAhB,CAA1B;;AAYA,QAAI,CAACK,QAAQ,CAACO,EAAd,EAAkB;AACdT,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBC,QAAvB;AACA,aAAO;AAACQ,QAAAA,OAAO,EAAE,KAAV;AAAiBC,QAAAA,KAAK,EAAG,GAAET,QAAS;AAApC,OAAP;AACH;;AAED,QAAI;AACA,UAAIU,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAT,EAAjB;AACAb,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBW,IAAtB;AAEAE,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,IAAI,CAACI,KAAnC;AAEA,aAAOJ,IAAP;AACH,KAPD,CAOE,OAAOK,EAAP,EAAW;AACTjB,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBgB,EAAvB;AACA,aAAO;AAACP,QAAAA,OAAO,EAAE,KAAV;AAAiBC,QAAAA,KAAK,EAAG,GAAEM,EAAG;AAA9B,OAAP;AACH;AACJ;;AAED,SACI,0CACI;AACI,IAAA,WAAW,EAAC,OADhB;AAEI,IAAA,QAAQ,EAAEC,KAAK,IAAItB,QAAQ,CAACsB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAF/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAKI;AACI,IAAA,WAAW,EAAC,UADhB;AAEI,IAAA,QAAQ,EAAEF,KAAK,IAAIpB,WAAW,CAACoB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAFlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,EASI;AAAQ,IAAA,OAAO,EAAErB,gBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBATJ,CADJ;AAaH;;AAED,eAAeN,cAAf","sourcesContent":["import React, { useState } from 'react';\n\nfunction LogInComponent(props) {\n\n    /**\n     * Facebook recommends to use hooks instead of React.Component's state due to productivity issues\n     * Check here: https://ru.reactjs.org/docs/hooks-intro.html\n     */\n    const [login, setLogin] = useState('');\n    const [password, setPassword] = useState('');\n\n    async function registerFunction() {\n        console.log('Login: ', login);\n        console.log('Password: ', password);\n\n        let response = await fetch('/api/login/', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                login: login,\n                password: password  \n            })\n        });\n\n        if (!response.ok) {\n            console.log('Error: ', response);\n            return {success: false, error: `${response}`};\n        }\n\n        try {\n            let data = await response.json();\n            console.log('Data: ', data);\n\n            localStorage.setItem('token', data.token);\n\n            return data;\n        } catch (ex) {\n            console.log('Error: ', ex);\n            return {success: false, error: `${ex}`};\n        }\n    }\n\n    return (\n        <>\n            <input\n                placeholder=\"Login\"\n                onChange={event => setLogin(event.target.value)}\n            />\n            <input\n                placeholder=\"Password\"\n                onChange={event => setPassword(event.target.value)}\n            />\n            <button onClick={registerFunction}>Register</button>\n        </>\n    );\n}\n\nexport default LogInComponent;"]},"metadata":{},"sourceType":"module"}